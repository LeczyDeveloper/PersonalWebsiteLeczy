(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{"1Cz6":function(e,t,r){"use strict";r("jQ/y");var n=r("KEM+"),o=r.n(n),s=r("ERkP"),i=r("t62R"),a=r("MAI/"),l=r("CGyZ"),c=r("cHvH"),d=r("Wd7d"),u=r("rHpw"),m=r("j7Bv"),h=r("MWbm");class p extends s.Component{render(){const{icon:e,subtitle:t,title:r,withCondensedHeader:n}=this.props,o=n?"left":"center",a=n?null:w.titleContainer,l=n?null:w.subtitleContainer,c=n?"bold":null;return s.createElement(s.Fragment,null,n?null:s.createElement(m.a,{Icon:e,size:"xxLarge",style:w.iconContainer}),s.createElement(h.a,{style:a},s.createElement(i.c,{align:o,color:"normal",size:n?"jumbo":"xLarge",weight:"heavy"},r)),t?s.createElement(h.a,{style:l},s.createElement(i.c,{align:o,color:"gray600",size:"small",weight:c},t)):null,n?this._renderCondensedHeader():this._renderBasicHeader())}_renderBasicHeader(){return s.createElement(s.Fragment,null,this._renderFollowButton(),this._renderDivider(),this._renderDescription())}_renderCondensedHeader(){const{button:e,description:t,knownFollowers:r}=this.props;return r&&r.knownFollowersAvatarUrls.length>3?s.createElement(c.a,null,({screenWidth:n})=>{const o=d.a.isNarrowScreenWidth(n)?"large":"xxLarge",{firstUsername:l,knownFollowersAvatarUrls:c}=r;return s.createElement(s.Fragment,null,s.createElement(h.a,{style:w.topicContent},s.createElement(h.a,{style:w.bottomMargin},s.createElement(a.a,{userAvatarSize:o,userAvatarUrls:c})),s.createElement(h.a,{style:w.bottomMargin},e)),s.createElement(i.c,{color:"gray600",size:"small"},l,"Â ",t))}):this._renderDescription()}_renderFollowButton(){const{isFollowing:e,onFollow:t,onUnfollow:r,showRelationshipChangeConfirmation:n,title:o,type:i}=this.props;return s.createElement(h.a,{style:w.buttonContainer},s.createElement(l.a,{isFollowing:e,name:o,onFollow:t,onUnfollow:r,showRelationshipChangeConfirmation:n,size:"normal",type:i,withConfirmationSheetText:!1}))}_renderDescription(){const{description:e,withCondensedHeader:t,button:r}=this.props,n=t?w.condensedDescription:w.description,o=t?"left":"center";return e?s.createElement(h.a,{style:n},s.createElement(i.c,{align:o,color:"gray600",numberOfLines:3,size:"small"},e),t?r:null):null}_renderDivider(){const{withDivider:e}=this.props;return e?s.createElement(h.a,{style:w.divider}):null}}o()(p,"defaultProps",{withDivider:!0,withCondensedHeader:!1});const w=u.a.create(e=>({buttonContainer:{flexDirection:"row",justifyContent:"center",marginTop:e.spaces.xSmall,marginBottom:e.spaces.medium},topicContent:{flexDirection:"row",marginTop:e.spaces.small,justifyContent:"space-between",alignItems:"center",flexWrap:"wrap-reverse"},condensedItem:{marginTop:e.spaces.small,flexDirection:"row",alignItems:"center"},description:{marginBottom:e.spaces.small},condensedDescription:{marginTop:e.spaces.small,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},divider:{borderBottomWidth:e.borderWidths.small,borderBottomStyle:"solid",borderColor:e.colors.gray200,marginTop:e.spaces.small,marginBottom:e.spaces.small},iconContainer:{alignSelf:"center",marginTop:e.spaces.small},subtitleContainer:{paddingHorizontal:e.spaces.xSmall},titleContainer:{paddingHorizontal:e.spaces.xxLarge,marginVertical:e.spaces.xxSmall},bottomMargin:{marginBottom:e.spaces.small}}));t.a=p},K0xN:function(e,t,r){"use strict";r.r(t),r.d(t,"TopicHeader",(function(){return E}));r("jQ/y"),r("kYxP");var n=r("KEM+"),o=r.n(n),s=r("ERkP"),i=r("rxPX"),a=r("0KEI"),l=r("Zejx");const c=(e,t)=>l.a.select(e,t.topicId);var d=Object(i.a)().propsFromState(()=>({topic:c})).propsFromActions(()=>({createLocalApiErrorHandler:Object(a.d)("TOPIC_HEADER"),follow:l.a.follow,unfollow:l.a.unfollow})).withAnalytics(),u=r("wrlS"),m=r("LWCC"),h=r("EHV7"),p=r("Tp1h"),w=r("vYiB"),b=r("Jkc4"),g=r("MWbm"),f=r("1Cz6"),_=r("rHpw");class E extends s.Component{constructor(...e){super(...e),o()(this,"_handleOnFollow",()=>{const{analytics:e,createLocalApiErrorHandler:t,follow:r,topicId:n}=this.props;r(n).catch(t()),e.scribeAction("follow")}),o()(this,"_handleOnUnfollow",()=>{const{analytics:e,createLocalApiErrorHandler:t,topicId:r,unfollow:n}=this.props;n(r).catch(t()),e.scribeAction("unfollow")})}render(){const{onFollowHeaderOffscreen:e,showRelationshipChangeConfirmation:t,topic:r,topicLandingContext:n,withDivider:o}=this.props,{following:i,description:a,name:l}=r||{},c=u.b.isTrue("topic_landing_page_condensed_header_enabled");return r?s.createElement(g.a,{style:C.root},s.createElement(b.a,{customText:l,displayMode:p.a.topic},d=>s.createElement(w.a,{onOffscreenChange:e},s.createElement(f.a,{button:s.createElement(m.a,{size:"normal",topic:r,useDefaultText:!1}),description:n,icon:h.a,isFollowing:i,onFollow:d(this._handleOnFollow),onUnfollow:this._handleOnUnfollow,showRelationshipChangeConfirmation:t,subtitle:a,title:l,type:"topic",withCondensedHeader:c,withDivider:!c&&o})))):null}}const C=_.a.create(e=>({root:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginVertical:e.componentDimensions.gutterVertical}})),y=d(E);t.default=y},ZQ2e:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n=r("KEM+"),o=r.n(n),s=r("ERkP"),i=(r("jQ/y"),r("kYxP"),r("t62R")),a=r("ir4X"),l=r("0PHd"),c=r("rHpw"),d=r("oSwX"),u=r("pBrB"),m=r("jV+4"),h=r("wCd/"),p=r("MWbm");class w extends s.PureComponent{constructor(...e){super(...e),o()(this,"_renderKnownFollowerSocialContext",()=>{const{isAllowedToViewOptions:e,isLoggedIn:t,knownFollowers:r,userScreenName:n}=this.props,{avatarUrls:o,count:i,names:a}=r,{followersYouKnow:c}=e;return c&&t?s.createElement(p.a,{style:[b.marginTopXSmall,b.minHeight]},"number"==typeof i&&s.createElement(l.a,{knownFollowersAvatarUrls:o,knownFollowersCount:i,knownFollowersNames:a,userScreenName:n})):null})}render(){return s.createElement(p.a,{style:b.root},this._renderUserAvatar(),s.createElement(p.a,{style:b.marginTopXXSmall},this._renderUserName(),this._renderHighlightedUserLabel()),this._renderErrorMessage(),this._renderUserDescription(),this._renderUserStats(),this._renderKnownFollowerSocialContext())}_renderUserAvatar(){const{followButton:e,isAllowedToViewOptions:t,isLoggedIn:r,onAvatarClick:n,promotedContent:o,userName:i,userScreenName:a,userAvatarUri:l}=this.props,{avatar:c,followButton:u,fullName:m}=t;return s.createElement(p.a,{style:b.row},s.createElement(d.default,{accessibilityLabel:m?i:a,importantForAccessibility:"no-hide-descendants",onClick:n,promotedContent:o,screenName:a,size:"jumbo",uri:c?l:void 0,withLink:!0}),u&&r&&e?e:null)}_renderUserName(){const{isAllowedToViewOptions:e,isUserProtected:t,isUserVerified:r,onScreenNameClick:n,promotedContent:o,userName:i,userScreenName:a,userTranslatorType:l,userWithFollowsYou:c}=this.props,{badges:d,followIndicator:u,fullName:h}=e;return s.createElement(m.a,{badgeContext:"account",isProtected:d?t:void 0,isVerified:d?r:void 0,name:h?i:a,onLinkClick:n,promotedContent:o,screenName:a,translatorType:d?l:void 0,withFollowsYou:u&&c,withLink:!0,withStackedLayout:!0})}_renderHighlightedUserLabel(){const{isAllowedToViewOptions:e,userHighlightedLabel:t}=this.props,{label:r}=e;return r&&t?s.createElement(a.a,{label:t}):null}_renderErrorMessage(){const{errorMessage:e}=this.props;return e?s.createElement(p.a,{style:b.marginTopXXSmall},s.createElement(i.c,null,e)):null}_renderUserDescription(){const{isAllowedToViewOptions:e,userDescription:t,userWithheldDescription:r,userEntities:n,userWithheldEntities:o,userId:i}=this.props,{description:a}=e;return a&&t?s.createElement(p.a,{style:[b.row,b.marginTopXSmall]},s.createElement(u.a,{description:t,entities:n,userId:i,withheldDescription:r,withheldEntities:o})):null}_renderUserStats(){const{isAllowedToViewOptions:e,isUserStatsWithLink:t,onUserStatsPress:r,userScreenName:n,userFollowersCount:o,userFriendsCount:i}=this.props,{stats:a}=e;return a?s.createElement(p.a,{style:[b.row,b.marginTopXSmall]},s.createElement(h.a,{followersCount:o,friendsCount:i,onPress:r,screenName:n,withLink:t})):null}}const b=c.a.create(e=>({root:{padding:e.spaces.small},row:{flexDirection:"row",justifyContent:"space-between"},marginTopXSmall:{marginTop:e.spaces.xSmall},marginTopXXSmall:{marginTop:e.spaces.xxSmall},minHeight:{minHeight:e.spaces.medium}}));var g=r("3XMw");const f=r.n(g).a.ef633577;class _ extends s.PureComponent{render(){const{onAvatarClick:e,onScreenNameClick:t,userScreenName:r}=this.props,n={protected:!1,isUserStatsWithLink:!1,verified:!1,profile_image_url_https:"",description:"",entities:{},followers_count:0,friends_count:0,id_str:"",followed_by:!1};return s.createElement(w,{errorMessage:f,isAllowedToViewOptions:{avatar:!1,badges:!0,description:!1,followButton:!1,followIndicator:!0,followersYouKnow:!1,fullName:!1,label:!1,stats:!1},isLoggedIn:!1,isUserProtected:n.protected,isUserStatsWithLink:n.isUserStatsWithLink,isUserVerified:n.verified,knownFollowers:{avatarUrls:[],names:[]},onAvatarClick:e,onScreenNameClick:t,userAvatarUri:n.profile_image_url_https,userDescription:n.description,userEntities:n.entities,userFollowersCount:n.followers_count,userFriendsCount:n.friends_count,userId:n.id_str,userName:r,userScreenName:r,userWithFollowsYou:n.followed_by,userWithheldDescription:void 0,userWithheldEntities:void 0})}}class E extends s.PureComponent{render(){return s.createElement(w,this.props)}}o()(E,"Suspended",_)},ehWl:function(e,t,r){"use strict";r.r(t),r.d(t,"formatNumber",(function(){return D})),r.d(t,"ListDetail",(function(){return O})),r.d(t,"styles",(function(){return M}));r("jQ/y"),r("tVqn"),r("kYxP");var n=r("KEM+"),o=r.n(n),s=r("ERkP"),i=r("v6aA"),a=r("iPch"),l=r("rxPX"),c=r("0KEI"),d=r("kHBp"),u=r("RqPI"),m=r("G6rE");const h=(e,t)=>{const{listId:r}=t;return r?d.a.select(e,r):void 0},p=(e,t)=>{const r=h(e,t);return r?m.e.select(e,r.user):void 0},w=(e,t)=>a.h(e,t.listId);var b=Object(l.a)().propsFromState(()=>({list:h,user:p,loggedInUserId:u.h,media:w})).propsFromActions(()=>({createLocalApiErrorHandler:Object(c.d)("LIST_DETAIL"),subscribe:d.a.subscribe,unsubscribe:d.a.unsubscribe})).withAnalytics(),g=r("f5/l"),f=r("muX9"),_=r("a5gf"),E=r("YeIG"),C=r("Tp1h"),y=r("Jkc4"),S=r("MWbm"),v=r("MtXG"),k=r("TIdA"),F=r("A91F"),x=r("rHpw"),A=r("9Xij"),L=r("t62R"),U=r("jV+4"),I=r("/yvb"),N=r("CGyZ"),P=r("3XMw"),T=r.n(P);const D=T.a.d58baa7e,H={follow:T.a.ab0deccf,following:T.a.bc8baa07,unfollow:T.a.j2b5f5db};class O extends s.Component{constructor(...e){super(...e),o()(this,"_homeTimelineSpheresCopyVariant",this.context.featureSwitches.getStringValue("home_timeline_spheres_copy_variant")),o()(this,"_editActionLabel","channel_follow"===this._homeTimelineSpheresCopyVariant?T.a.j0004bf4:T.a.ca5d0a81),o()(this,"_privateLabel","channel_follow"===this._homeTimelineSpheresCopyVariant?T.a.b30efd20:T.a.j681933d),o()(this,"_getFollowersLabel",(e,t)=>"list_subscribe"===this._homeTimelineSpheresCopyVariant?s.createElement(T.a.I18NFormatMessage,{$i18n:"fbd4c924"},s.createElement(v.a.Value,null,T.a.j1b883a7({formattedCount:t})),s.createElement(v.a.Label,null,T.a.aa584788({count:e}))):s.createElement(T.a.I18NFormatMessage,{$i18n:"d2924acb"},s.createElement(v.a.Value,null,T.a.ec08efe3({formattedCount:t})),s.createElement(v.a.Label,null,T.a.h9f711f0({count:e})))),o()(this,"_renderImage",()=>{const{media:e}=this.props,{image:t}=e;if(t&&!Object(E.a)(t)){const{url:e}=t;return s.createElement(s.Fragment,null,s.createElement(f.a,null,s.createElement("meta",{content:e,property:"og:image"})),s.createElement(k.a,{accessibilityLabel:"",aspectMode:F.a.exact(3),backgroundColor:x.a.theme.colors.gray300,image:t}))}return s.createElement(A.a,{ratio:3},s.createElement(S.a,{style:M.placeholderImageContainer}))}),o()(this,"_renderListDescription",()=>{const{list:e,user:t}=this.props;if(e){const{name:r,description:n,member_count:o,subscriber_count:i,mode:a}=e,l=i||0,c=o||0,d="private"===a;return s.createElement(S.a,{style:M.description},s.createElement(S.a,{style:[M.name,M.text]},s.createElement(L.c,{align:"center",size:"large",weight:"bold"},r.trim(),d?s.createElement(_.a,{accessibilityLabel:this._privateLabel,style:M.iconLock}):null)),n?s.createElement(s.Fragment,null,s.createElement(f.a,null,s.createElement("meta",{content:n.trim(),property:"og:description"})),s.createElement(L.c,{align:"center",style:M.text},n.trim())):null,t?s.createElement(U.a,{isProtected:t.protected,isVerified:t.verified,name:t.name,onLinkClick:this._handleUserNamePress,profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,style:M.text,withLink:!0}):null,this._renderCount(l,c),this._renderActionButton())}}),o()(this,"_renderCount",(e,t)=>{const{basePath:r}=this.props,n=D(e),o=D(t);return s.createElement(v.a.Group,null,s.createElement(v.a,{hoverLabel:{label:o},link:r+"/members",onPress:this._handleMembersCountPress},s.createElement(T.a.I18NFormatMessage,{$i18n:"b38e130b"},s.createElement(v.a.Value,null,T.a.ibd0106d({formattedCount:o})),s.createElement(v.a.Label,null,T.a.cface2d0({count:t})))),s.createElement(v.a,{hoverLabel:{label:n},link:r+"/subscribers",onPress:this._handleSubscribersCountPress},this._getFollowersLabel(e,n)))}),o()(this,"_handleEditPress",()=>{this._scribe({element:"edit",action:"click"})}),o()(this,"_handleUserNamePress",()=>{this._scribe({element:"user",action:"click"})}),o()(this,"_handleMembersCountPress",()=>{this._scribe({element:"list_member",action:"click"})}),o()(this,"_handleSubscribersCountPress",()=>{this._scribe({element:"list_subscribed",action:"click"})}),o()(this,"_handleSubscribeActions",()=>{const{list:e,subscribe:t,unsubscribe:r,createLocalApiErrorHandler:n}=this.props;if(e){const o=e.following,s=e.id_str;Object(g.a)(n,o,s,t,r,this._scribe)}}),o()(this,"_renderActionButton",()=>{const{basePath:e,list:t,loggedInUserId:r,user:n,withEditButton:o}=this.props;if(t&&t.user){const i=null==n?void 0:n.blocking;return t.user===r&&o?s.createElement(I.a,{link:e+"/info",onPress:this._handleEditPress,style:M.button,type:"secondary"},this._editActionLabel):t.user!==r?s.createElement(S.a,{style:M.button},s.createElement(y.a,{customText:t.name,displayMode:C.a.subscribe,userFullName:n&&n.name},e=>s.createElement(N.a,{buttonText:"list_subscribe"===this._homeTimelineSpheresCopyVariant?H:void 0,disabled:i,isFollowing:!!t.following,onFollow:e(this._handleSubscribeActions),onUnfollow:e(this._handleSubscribeActions),showRelationshipChangeConfirmation:!1,type:"list"}))):null}}),o()(this,"_scribe",e=>{const{analytics:t}=this.props;t.scribe(e)})}componentDidMount(){this._scribe({action:"impression"})}render(){const{list:e,withRoundedCorners:t}=this.props;return e?s.createElement(S.a,{style:[M.container,t&&M.hoverCard]},this._renderImage(),this._renderListDescription()):null}}o()(O,"contextType",i.a),o()(O,"defaultProps",{withEditButton:!0});const M=x.a.create(e=>({container:{borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,borderStyle:"solid"},hoverCard:{borderRadius:e.borderRadii.xLarge,overflow:"hidden"},button:{marginTop:e.spaces.medium,marginBottom:e.spaces.xSmall},description:{paddingVertical:e.spaces.xSmall,paddingHorizontal:e.spaces.xSmall,alignItems:"center"},name:{flexDirection:"row",justifyContent:"center",alignItems:"center"},iconLock:{color:e.colors.text,marginLeft:e.spaces.micro},text:{width:"100%",marginBottom:e.spaces.xSmall},placeholderImageContainer:{backgroundColor:e.colors.gray300,height:"100%"}})),j=b(O);t.default=j},"nb/L":function(e,t,r){"use strict";r("IAdD");var n=r("ERkP"),o=r("Lsrn"),s=r("k/Ka");const i=(e={})=>Object(s.a)("svg",Object.assign({},e,{style:[o.a.root,e.style],viewBox:"0 0 24 24"}),n.createElement("g",null,n.createElement("path",{d:"M12.538 6.478c-.14-.146-.335-.228-.538-.228s-.396.082-.538.228l-9.252 9.53c-.21.217-.27.538-.152.815.117.277.39.458.69.458h18.5c.302 0 .573-.18.69-.457.118-.277.058-.598-.152-.814l-9.248-9.532z"})));i.metadata={width:24,height:24},t.a=i},uvhM:function(e,t,r){"use strict";r.r(t),r.d(t,"UserProfileCardContainer",(function(){return L}));r("jQ/y"),r("kYxP");var n=r("KEM+"),o=r.n(n),s=r("ERkP"),i=r("v6aA"),a=r("XnvM"),l=r("SwJK"),c=r("P1r1"),d=r("rxPX"),u=r("0KEI"),m=r("G6rE");const h=Object(m.g)([m.a]),p=(e,t)=>h(e,t.screenName),w=(e,t)=>m.e.selectByScreenName(e,t.screenName),b=(e,t)=>m.e.selectIsUserNotFound(e,t.screenName),g=(e,t)=>m.e.selectIsUserSuspended(e,t.screenName),f=(e,t)=>m.e.selectIsUserWithheld(e,t.screenName),_=(e,t)=>{const r=w(e,t);return null==r?void 0:r.highlightedLabel},E=(e,t)=>{const r=((e,t)=>m.e.selectIdByScreenName(e,t.screenName))(e,t);return{avatarUrls:l.a(e,r),count:l.b(e,r),names:l.c(e,r)}};var C=Object(d.a)().propsFromState(()=>({displaySensitiveMedia:c.l,fetchStatus:p,isNotFound:b,isSuspended:g,isWithheld:f,knownFollowers:E,user:w,userHighlightedLabel:_})).propsFromActions(()=>({createLocalApiErrorHandler:Object(u.d)("USER_PROFILE_CARD"),fetchOneUserByScreenNameIfNeeded:m.e.fetchOneByScreenNameIfNeeded,fetchKnownFollowersIfNeeded:a.a})).withAnalytics(),y=r("GOQE"),S=r("kGix"),v=r("v//M"),k=r("uIZp"),F=r("Jkc4"),x=r("ZQ2e"),A=r("7wqI");class L extends s.Component{constructor(...e){super(...e),o()(this,"_renderUserProfileCard",()=>{const{displaySensitiveMedia:e,isNotFound:t,isSuspended:r,isWithheld:n,knownFollowers:o,onAvatarClick:i,onScreenNameClick:a,promotedContent:l,screenName:c,user:d,userHighlightedLabel:u}=this.props;if(r)return s.createElement(x.a.Suspended,{onAvatarClick:i,onScreenNameClick:a,userScreenName:c});if(!d)return null;const{loggedInUserId:m}=this.context,h=Object(A.a)({displaySensitiveMedia:e,isNotFound:t,isSuspended:r,isWithheld:n,loggedInUserId:m,user:d}),p=!!m&&m===d.id_str,w=Object(A.b)({isOwnProfile:p,user:d});return s.createElement(F.a,null,e=>s.createElement(x.a,{followButton:this._renderFollowUserButton(),isAllowedToViewOptions:h,isLoggedIn:!!m,isUserProtected:d.protected,isUserStatsWithLink:w,isUserVerified:d.verified,knownFollowers:o,onAvatarClick:i,onScreenNameClick:a,onUserStatsPress:e(),promotedContent:l,userAvatarUri:d.profile_image_url_https,userDescription:d.description,userEntities:d.entities,userFollowersCount:d.followers_count,userFriendsCount:d.friends_count,userHighlightedLabel:u,userId:d.id_str,userName:d.name,userScreenName:c,userTranslatorType:d.translator_type,userWithFollowsYou:d.followed_by,userWithheldDescription:d.withheld_description,userWithheldEntities:d.withheld_entities}))}),o()(this,"_renderFollowUserButton",()=>{const{promotedContent:e,showRelationshipChangeConfirmation:t,user:r}=this.props,n=null==r?void 0:r.id_str;return n?s.createElement(k.a,{promotedContent:e,showRelationshipChangeConfirmation:t,userId:n}):void 0}),o()(this,"_handleFetchUser",()=>{const{createLocalApiErrorHandler:e,fetchOneUserByScreenNameIfNeeded:t,screenName:r}=this.props;t(r).catch(t=>{e(y.a)(t)})}),o()(this,"_handleFetchKnownFollowers",()=>{const{createLocalApiErrorHandler:e,fetchKnownFollowersIfNeeded:t,user:r}=this.props,n=null==r?void 0:r.id_str;n&&t(n).catch(e({}))})}componentDidMount(){this._handleFetchUser(),this._handleFetchKnownFollowers()}componentDidUpdate(e){var t,r;(null==(t=e.user)?void 0:t.id_str)!==(null==(r=this.props.user)?void 0:r.id_str)&&this._handleFetchKnownFollowers()}render(){const{isSuspended:e,fetchStatus:t}=this.props;return s.createElement(v.a,{fetchStatus:e?S.a.LOADED:t,onRequestRetry:this._handleFetchUser,render:this._renderUserProfileCard})}}o()(L,"contextType",i.a);const U=C(L);t.default=U},"z2a+":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return C}));r("IAdD");var n=r("97Jx"),o=r.n(n),s=r("KEM+"),i=r.n(s),a=r("ERkP"),l=r("zfvc"),c=r("DxmF"),d=r("jHwr"),u=r("VY6S"),m=r("w9LO"),h=r("TCjc"),p=r("nb/L"),w=r("Oe3h"),b=r("0FVZ"),g=r("rHpw"),f=r("i4Oy"),_=r("shC7"),E=r("MWbm");class C extends a.Component{constructor(e,t){super(e,t),i()(this,"_renderInnerBody",()=>{const{withArrow:e,children:t}=this.props;return a.createElement(a.Fragment,null,e&&a.createElement(p.a,{style:this._getArrowStyle()}),t)}),i()(this,"_setContentNode",e=>{this._contentNode=e||void 0,this._scheduleUpdate()}),i()(this,"_handleEsc",e=>{const{onMaskClick:t}=this.props,{altKey:r,ctrlKey:n,metaKey:o,key:s}=e;!(r||n||o)&&"Escape"===s&&t&&t()}),i()(this,"_updatePosition",()=>{if(!this._mounted)return;const{anchorNode:e,preferredVerticalOrientation:t,withArrow:r,withFixedPosition:n}=this.props,o=g.a.theme.borderRadiiPx.large,s=Object(c.a)({anchorNode:e,contentNode:this._contentNode,preferredVerticalOrientation:t,withArrow:r,withFixedPosition:n,borderRadius:o});if(!s)return;const{arrowPositionStart:i,bottom:a,top:l,left:d,right:u}=s;this.setState({arrowPositionStart:i,bottom:a,left:d,right:u,top:l})}),this.state=Object.freeze({}),this._scheduleUpdate=Object(d.a)(this._updatePosition,window.requestAnimationFrame),this._scheduleDebouncedUpdate=Object(u.a)(this._scheduleUpdate,250)}componentDidMount(){this._mounted=!0,f.a.addEventListener("change",this._scheduleDebouncedUpdate)}componentWillUnmount(){const{onHoverCardUnmount:e}=this.props;this._mounted=!1,f.a.removeEventListener("change",this._scheduleDebouncedUpdate),e&&e()}render(){const{onAnimateComplete:e,onMaskClick:t,show:r,withFixedPosition:n,withFocusContainer:s,withMask:i}=this.props,{bottom:c,top:d,left:u,right:p}=this.state,g=void 0===d&&void 0===c,f=g||!s?a.Fragment:m.a,_={top:d,bottom:c,left:u,right:p},C=[g?y.initialRenderWrapper:n?y.contentWrapperFixed:y.contentWrapperAbsolute,_];return a.createElement(b.a.Dropdown,null,a.createElement(h.a.Provider,{value:{isInHoverCard:!0}},t?a.createElement(E.a,{onClick:t,style:[y.mask,i&&y.withMask]}):null,a.createElement(E.a,{onKeyUp:this._handleEsc,ref:this._setContentNode,style:C},a.createElement(f,null,a.createElement(l.b,{animateMount:!0,duration:"long",onAnimateComplete:e,show:r,type:"fade"},({isAnimating:e})=>i?a.createElement(E.a,{style:y.contentRoot},this._renderInnerBody()):a.createElement(w.a,{id:"HoverCard",minimizeReporting:e},(e,t)=>a.createElement(E.a,o()({ref:e()},t({style:y.contentRoot})),this._renderInnerBody())))))))}_getArrowStyle(){const{arrowPositionStart:e,bottom:t}=this.state,{isRTL:r}=_.a;let n;if(e){n=[y.arrow,t?y.downArrow:y.upArrow];const o=`calc(${e}px - ${p.a.metadata.width/2}px)`;r?n.push({right:o}):n.push({left:o})}return n}}const y=g.a.create(e=>({arrow:{color:e.colors.cellBackground,filter:`drop-shadow(${e.spaces.nano} -${e.spaces.nano} ${e.spaces.nano} ${e.colors.gray200})`,fontSize:e.fontSizes.small,position:"absolute",width:p.a.metadata.width+"px"},contentWrapperAbsolute:{position:"absolute"},contentWrapperFixed:{backfaceVisibility:"hidden",position:"fixed"},initialRenderWrapper:{opacity:0,position:"fixed"},contentRoot:{backgroundColor:e.colors.cellBackground,borderRadius:e.borderRadii.xLarge,boxShadow:e.boxShadows.medium},mask:Object.assign({},g.a.absoluteFillObject,{position:"fixed"}),withMask:{backgroundColor:e.colors.maskColor},downArrow:{bottom:"-"+e.fontSizes.xSmall,transform:"rotate(180deg)"},upArrow:{top:"-"+e.fontSizes.xSmall}}))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.HoverCard.ffb6a985.js.map